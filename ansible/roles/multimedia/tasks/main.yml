---
- name: Install Multimedia Apps
  package:
    name: '{{ multimedia_apps }}'
    state: present
  become: yes
  tags:
    - multimedia
    - apps

- name: Install Multimedia Fonts
  package:
    name: '{{ multimedia_fonts }}'
    state: present
  become: yes
  tags:
    - multimedia
    - fonts

- name: Install Multimedia Fonts from Url
  block:
    - name: Create the destination path for the fonts
      file:
        path: '/home/{{ user_name }}/.local/share/fonts'
        state: directory

    - name: Download the fonts
      get_url:
        url: '{{ item }}'
        dest: '/home/{{ user_name }}/.local/share/fonts'
        mode: '600'
      with_items: '{{ multimedia_fonts_url }}'
  tags:
    - git
    - multimedia
    - fonts

- include: plexmediaserver.yml
- include: transmission.yml
